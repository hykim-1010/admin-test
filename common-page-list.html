<!-- Page List Popup -->
<div class="page-list-popup" id="page-list-popup">
  <div class="page-list-content">
    <div class="page-list-header">
      <div class="page-list-title">페이지 목록</div>
      <button class="page-list-close" id="page-list-close">&times;</button>
    </div>
    <div class="page-list-items" id="page-list-items">
      <!-- 페이지 목록이 동적으로 생성됩니다 -->
    </div>
  </div>
</div>

<style>
  /* Page List Popup */
  .page-list-popup { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: none; align-items: center; justify-content: center; z-index: 10000; }
  .page-list-popup.show { display: flex; }
  .page-list-content { background: #fff; border-radius: 8px; padding: 20px; max-width: 400px; width: 90%; max-height: 80vh; overflow-y: auto; box-shadow: 0 4px 20px rgba(0,0,0,0.3); }
  .page-list-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
  .page-list-title { font-size: 18px; font-weight: 700; color: var(--text-strong); }
  .page-list-close { background: none; border: none; font-size: 24px; cursor: pointer; color: var(--gray-400); padding: 0; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; }
  .page-list-close:hover { color: var(--text-strong); }
  .page-list-items { display: grid; gap: 8px; }
  .page-list-item { padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 6px; cursor: pointer; transition: all 0.2s; background: #fff; }
  .page-list-item:hover { background: var(--gray-50); border-color: var(--primary); }
  .page-list-item.current { background: var(--primary); color: #fff; border-color: var(--primary); }
  .page-list-item-name { font-weight: 600; margin-bottom: 4px; }
  .page-list-item-desc { font-size: 12px; color: var(--gray-400); }
  .page-list-item.current .page-list-item-desc { color: rgba(255,255,255,0.8); }
</style>

<script>
  // 공통 페이지 목록 데이터
  window.PageListData = [
    { name: '로그인 1차', file: '로그인_1차.html', desc: '아이디/비밀번호 로그인' },
    { name: '로그인 2차', file: '로그인_2차.html', desc: '이메일 인증' },
    { name: '로그인 3차', file: '로그인_3차.html', desc: '인증번호 입력' },
    { name: '초기 비밀번호 설정', file: '초기비밀번호설정.html', desc: '관리자 초기 비밀번호 변경' },
    { name: 'Media관리 > News > 목록', file: 'Media관리/Media관리_News_목록.html', desc: '뉴스 게시글 목록 관리' },
    { name: 'Media관리 > News > 등록', file: 'Media관리/Media관리_News_등록.html', desc: '뉴스 게시글 등록' },
    { name: 'Media관리 > News > 수정/상세', file: 'Media관리/Media관리_News_수정_상세.html', desc: '뉴스 게시글 수정 및 상세 정보 조회' },
    { name: 'Media관리 > Social > 목록', file: 'Media관리/Media관리_Social_목록.html', desc: '소셜 포스트 목록 관리' },
    { name: 'Media관리 > Social > 등록', file: 'Media관리/Media관리_Social_등록.html', desc: '소셜 포스트 등록' },
    { name: 'Media관리 > Social > 수정/상세', file: 'Media관리/Media관리_Social_수정_상세.html', desc: '소셜 포스트 수정 및 상세 정보 조회' },
    { name: '메인 페이지', file: 'index.html', desc: '전체 페이지 목록' }
  ];

  // 공통 페이지 목록 기능
  window.PageListManager = {
    init: function(currentPage) {
      var pageListPopup = document.getElementById('page-list-popup');
      var pageListClose = document.getElementById('page-list-close');
      var pageListItems = document.getElementById('page-list-items');
      
      if (!pageListPopup || !pageListClose || !pageListItems) {
        console.warn('Page list elements not found');
        return;
      }
      
      function showPageList() {
        pageListItems.innerHTML = '';
        
        window.PageListData.forEach(function(page) {
          var item = document.createElement('div');
          item.className = 'page-list-item';
          if (page.file === currentPage) {
            item.classList.add('current');
          }
          
          item.innerHTML = '<div class="page-list-item-name">' + page.name + '</div><div class="page-list-item-desc">' + page.desc + '</div>';
          
          item.addEventListener('click', function() {
            if (page.file !== currentPage) {
              window.location.href = page.file;
            }
          });
          
          pageListItems.appendChild(item);
        });
        
        pageListPopup.classList.add('show');
      }
      
      function hidePageList() {
        pageListPopup.classList.remove('show');
      }
      
      // 이벤트 리스너
      var pageListBtns = document.querySelectorAll('[id^="page-list-btn"]');
      pageListBtns.forEach(function(btn) {
        btn.addEventListener('click', showPageList);
      });
      
      pageListClose.addEventListener('click', hidePageList);
      
      pageListPopup.addEventListener('click', function(e) {
        if (e.target === pageListPopup) {
          hidePageList();
        }
      });
    }
  };
</script>
